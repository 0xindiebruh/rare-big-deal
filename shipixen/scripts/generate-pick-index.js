const fs = require('fs');
const path = require('path');

const picksDir = path.join(__dirname, '../data/picks');
const outputFilePath = path.join(__dirname, '../data/picks/index.js');

const generateIndex = () => {
  const files = fs
    .readdirSync(picksDir)
    .filter((file) => file.endsWith('.js') && file !== 'index.js');

  const indexContent = `
    // This file is auto-generated by scripts/generateIndex.js
    export const picksIndex = ${JSON.stringify(files, null, 2)};
  `;

  fs.writeFileSync(outputFilePath, indexContent.trim());
  console.log('Index generated successfully.');
};

generateIndex();
